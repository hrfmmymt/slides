<html>
  <head>
    <title>PWA 勉強会資料 - 2018/01/26</title>
    <link rel="stylesheet" href="lib/talkie.min.css">
    <link rel="stylesheet" href="lib/talkie-default.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/styles/monokai_sublime.min.css">
    <link rel="stylesheet" href="dist/style.css">
  </head>
  <body>

  <script layout="cover" invert type="text/x-markdown" backface="images/cover1.JPG" backface-filter="blur(1px) brightness(.8)" class="darkness">
  ## PWA 勉強会
  ## 2018/01/26 16:00~17:00
  ## @ 大会議室
  </script>

  <script layout="cover" type="text/x-markdown" backface="images/cover2.JPG" backface-filter="blur(1px) brightness(.8)" class="darkness">

  # Progressive Web Apps

  </script>


  <script layout="bullets" type="text/x-markdown" backface="images/googling.png">
  </script>

  <script layout="bullets" type="text/x-markdown">
  <img src="images/firstpwa.png" width="60%">

  [https://medium.com/@slightlylate/progressive-apps-escaping-tabs-without-losing-our-soul-3b93a8561955](https://medium.com/@slightlylate/progressive-apps-escaping-tabs-without-losing-our-soul-3b93a8561955)

  </script>

  <script layout="bullets" type="text/x-markdown" backface="images/firstpwa.png" backface-filter="blur(1px) brightness(.1)" class="darkness">

  - オフラインキャッシュ
  - プッシュ通知
  - とか（後で）
  ## を総称したかった

  </script>

  <script layout="bullets" type="text/x-markdown">
  <img src="images/pwanow.png">

  [https://developers.google.com/web/progressive-web-apps/](https://developers.google.com/web/progressive-web-apps/)
  </script>

  <script layout="bullets" type="text/x-markdown">
  ## 概論
  - Reliable - Load instantly and never show the downasaur, even in uncertain network conditions.
  - 信頼性 - 不安定なネットワーク状況であっても、即座にロードしてダウナソーを表示しないぞ
  </script>

  <script layout="bullets" type="text/x-markdown" backface="images/downasaur.jpg">
  </script>

  <script layout="bullets" type="text/x-markdown">
  ## 概論
  - Fast - Respond quickly to user interactions with silky smooth animations and no janky scrolling.
  - 速い - なめらかでスムーズなアニメーションやジャンクしないスクロールで、ユーザーインタラクションに素早く対応する（解釈ムズい)
  </script>

  <script layout="bullets" type="text/x-markdown">
  ## 概論
  - Engaging - Feel like a natural app on the device, with an immersive user experience.
  - 魅力的 - 没入型ユーザーエクスペリエンスを備えた、デバイス上のネイティブアプリのような感覚
  </script>

  <script layout="bullets" type="text/x-markdown">
  ### [Progressive Web App Checklist](https://developers.google.com/web/progressive-web-apps/checklist)
  #### Baseline Progressive Web App Checklist
  - Site is served over HTTPS
  - サイトが HTTPS で配信されること
  </script>

  <script layout="bullets" type="text/x-markdown">
  ### [Progressive Web App Checklist](https://developers.google.com/web/progressive-web-apps/checklist)
  #### Baseline Progressive Web App Checklist
  - Pages are responsive on tablets & mobile devices
  - RWD（モバイルフレンドリー）
  </script>

  <script layout="bullets" type="text/x-markdown">
  ### [Progressive Web App Checklist](https://developers.google.com/web/progressive-web-apps/checklist)
  #### Baseline Progressive Web App Checklist
  - All app URLs load while offline
  - 全ての URL がオフラインで読み込まれる
  </script>

  <script layout="bullets" type="text/x-markdown">
  ### [Progressive Web App Checklist](https://developers.google.com/web/progressive-web-apps/checklist)
  #### Baseline Progressive Web App Checklist
  - Metadata provided for Add to Home screen
  - "Add to Home screen" できるメタデータを提供する
  </script>

  <script layout="bullets" type="text/x-markdown">
  ### [Progressive Web App Checklist](https://developers.google.com/web/progressive-web-apps/checklist)
  #### Baseline Progressive Web App Checklist
  - First load fast even on 3G
  - 初回ロードが 3G 回線でも高速である
  </script>

  <script layout="bullets" type="text/x-markdown">
  ### [Progressive Web App Checklist](https://developers.google.com/web/progressive-web-apps/checklist)
  #### Baseline Progressive Web App Checklist
  - Site works cross-browser
  - クロスブラウザで動作する
  </script>

  <script layout="bullets" type="text/x-markdown">
  ### [Progressive Web App Checklist](https://developers.google.com/web/progressive-web-apps/checklist)
  #### Baseline Progressive Web App Checklist
  - Page transitions don't feel like they block on the network
  - ページ遷移をネットワーク上でブロックされているようには感じさせない  
  ( ネットワークからのレスポンス待ってる間ローディングのインジケータとか出しとけってことらしい )
  ( SPA? )
  </script>

  <script layout="bullets" type="text/x-markdown">
  ### [Progressive Web App Checklist](https://developers.google.com/web/progressive-web-apps/checklist)
  #### Baseline Progressive Web App Checklist
  - Each page has a URL
  - 各ページにはURLがある
  </script>

  <script layout="bullets" type="text/x-markdown" backface="images/lighthouse.png" class="lighthouse">
  # [Lighthouse](https://developers.google.com/web/tools/lighthouse/?hl=ja)
  </script>

  <script layout="bullets" type="text/x-markdown" backface="images/chromelighthouse.png" class="bottom-link">
  <small><a href="https://r.nikkei.com/">https://r.nikkei.com/</a></small>
  </script>

  <script layout="bullets" type="text/x-markdown" backface="images/suumo.png" class="bottom-link">
  <small><a href="https://smp.suumo.jp/">https://smp.suumo.jp/</a></small>
  </script>

  <script layout="bullets" type="text/x-markdown" backface="images/najimu.jpg" backface-filter="blur(7px) brightness(1)">
  - 🙆‍段階（部分）的に導入できる
    - Lighthouse 100点でなくてもいい
    - 100点の達成がそのアプリのゴールというわけでもない
  - 🙆‍既存サービスにも導入できる
  </script>

  <script layout="bullets" type="text/x-markdown">
  # WebAppManifest
  ## manifest.json
  - Add to homescreen
    - -icon
  - Splash screen
  - theme-color ( `<meta>` )
  - Full screen ( "display": "standalone || browser" )
  - "orientation": "portrait || landscape"
  </script>

  <script layout="code" type="text/x-markdown" class="manifest">
  ```manifest.json
  {
    "lang": "ja",
    "name": "SUUMO",
    "short_name": "SUUMO",
    "icons": [{
      "src": "/launcher-icon-3x.png",
      "sizes": "144x144",
      "type": "image/png"
    }, {
      "src": "/splashscreen-icon-192x192.png",
      "sizes": "192x192",
      "type": "image/png"
    }, {
      "src": "/splashscreen-icon-256x256.png",
      "sizes": "256x256",
      "type": "image/png"
    }, {
      "src": "/splashscreen-icon-384x384.png",
      "sizes": "384x384",
      "type": "image/png"
    }, {
      "src": "/splashscreen-icon-512x512.png",
      "sizes": "512x512",
      "type": "image/png"
    }],
    "background_color": "#ffffff",
    "theme_color": "#ffffff",
    "start_url": "/apps/homescreen/",
    "display": "standalone",
    "gcm_sender_id": "926788163944"
  }
  ```
  </script>

  <script layout="bullets" type="text/x-markdown" backface="images/manifest.png">
  </script>

  <script layout="bullets" type="text/x-markdown">
  # Service Worker
  - intercept and handle network requests
  - Cache API
  - ( Push Notification )
  </script>

  <script layout="cover" type="text/x-markdown" backface="images/worker.png" invert backface-filter="blur(0px) brightness(.6)">
  # 👀
  </script>

  <script layout="bullets" type="text/x-markdown">
  # (Web Worker)
  特定のページのバックグラウンドで動く JS
  </script>

  <script layout="bullets" type="text/x-markdown">
  # Service Worker
  ### ブラウザの表示とは別スレッドで、バックグラウンドで動く JS Worker
  - ブラウザにインストールする
  - DOM API 操作不可
  </script>

  <script layout="bullets" type="text/x-markdown">
  #### Service Worker
  <img src="images/caniuse.png">
  </script>

  <script layout="bullets" type="text/x-markdown">
  Safari と Edge の開発版で Service Worker はデフォルトで ON になってる（現在）
  - [https://webkit.org/blog/8042/release-notes-for-safari-technology-preview-46/](https://webkit.org/blog/8042/release-notes-for-safari-technology-preview-46/)
  - [https://blogs.windows.com/msedgedev/2017/12/19/service-workers-going-beyond-page/#q1fTICimFt420jpg.97](https://blogs.windows.com/msedgedev/2017/12/19/service-workers-going-beyond-page/#Yyg2YRX6LSlW8mT6.97)
  </script>

  <script layout="code" type="text/x-markdown">
  ```javascript
  // https://example.com/script/main.js
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('/sw.js', {
      scope: '/'
    }).then(function(registration) {
      // 登録成功
      console.log('ServiceWorker registration successful with scope: ', registration.scope);
    }).catch(function(err) {
      // 登録失敗 :(
      console.log('ServiceWorker registration failed: ', err);
    });
  }
  ```
  ※Service Worker は HTTPS か localhost で動作
  </script>

  <script layout="code" type="text/x-markdown">
  [Service Worker のライフサイクル](https://developers.google.com/web/fundamentals/primers/service-workers/lifecycle?hl=ja)
  ```javascript
  const CACHE_NAME = 'my-site-cache-v1';
  const urlsToCache = [
    '/',
    '/styles/main.css',
    '/script/main.js'
  ];

  self.addEventListener('install', function(event) {
    // インストール処理
    event.waitUntil(
      caches.open(CACHE_NAME)
        .then(function(cache) {
          console.log('Opened cache');
          return cache.addAll(urlsToCache);
        })
    );
  });
  ```
  </script>

  <script layout="code" type="text/x-markdown">
  [Service Worker のライフサイクル](https://developers.google.com/web/fundamentals/primers/service-workers/lifecycle?hl=ja)
  ```javascript
  self.addEventListener('fetch', function(event) {
    event.respondWith(
      caches.open(CACHE_NAME).then(function(cache) {
        return cache.match(event.request).then(function(response) {
          const fetchPromise = fetch(event.request).then(function(networkResponse) {
            cache.put(event.request, networkResponse.clone());
            return networkResponse;
          });
          return response || fetchPromise;
        });
      });
    );
  });
  ```
  </script>

  <script layout="bullets" type="text/x-markdown" class="cycle">
  <img src="https://camo.qiitausercontent.com/91424b3a365de2e3221f7e399dbe3ff019a31b23/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f35343835302f33643939386137612d643063312d626338372d636332372d3634356336643932643334622e706e67">

  [https://qiita.com/y_fujieda/items/f9e765ac9d89ba241154](https://qiita.com/y_fujieda/items/f9e765ac9d89ba241154)
  # 🙏
  </script>

  <script layout="code" type="text/x-markdown">
  ※どこで言うか迷ったので謎タイミングになったけど、CDN にもキャッシュ指定できるよ
  </script>

  <script layout="bullets" type="text/x-markdown" class="cycle">
  <a href="https://developers.google.com/web/tools/workbox/"><img src="https://developers.google.com/web/tools/workbox/thumb.png"></a>
  </script>

  <script layout="code" type="text/x-markdown">
  sw.js
  ```javascript
  importScripts('/node_modules/workbox-sw/build/workbox-sw.vX.X.X.prod.js');

  const workboxSW = new WorkboxSW();
  workboxSW.precache([
    {
      url: '/index.html',
      revision: 'bb121c',
    }, {
      url: '/styles/main.css',
      revision: 'acd123',
    }, {
      url: '/scripts/main.js',
      revision: 'a32caa',
    }
  ]);
  ```
  </script>

  <script layout="code" type="text/x-markdown" class="cycle">
  <a href="https://developers.google.com/web/tools/workbox/"><img src="https://developers.google.com/web/tools/workbox/thumb.png"></a>
  <a href="https://webpack.js.org/"><img src="https://developers.google.com/web/tools/workbox/images/third_party/webpack-logo.svg"></a>
  </script>

  <script layout="code" type="text/x-markdown">
  webpack.config.js
  ```javascript
  new WorkboxBuildWebpackPlugin({
    globDirectory: 'dist/public',
    globPatterns: ['*.{html,js,css}', 'images/**/*.{jpg,jpeg,png,gif,webp,svg}'],
    globIgnores: ['sw.js'],
    swSrc:'src/sw.js',
    swDest: 'dist/sw.js',
    templatedUrls: {
      '/app-shell': ['../views/index.hbs']
    }
  });
  ```
  [https://havelog.ayumusato.com/develop/pwa/e742-appshell_practice_with_webpack_and_workbox.html](https://havelog.ayumusato.com/develop/pwa/e742-appshell_practice_with_webpack_and_workbox.html)
  # 🙏
  </script>

  <script layout="cover" type="text/x-markdown">
  <img src="https://developers.google.com/web/fundamentals/architecture/images/appshell.png?hl=ja">
  </script>

  <script layout="bullets" type="text/x-markdown">
  # [App Shell モデル](https://developers.google.com/web/fundamentals/architecture/app-shell?hl=ja)
  ユーザーインターフェースが機能するために必要な最小限の HTML、CSS、JavaScript (App Shell) をオフラインで使用できるようにキャッシュしておくこと

  - App Shell
    - UI の骨組み
    - アプリの起動に必要な主要コンポーネント
    - 多くの場合データは含まれない
  </script>

  <script layout="code" type="text/x-markdown">
  ```jsx
  import React from 'react';
  import { renderToString } from 'react-dom/server';
  import { Provider } from 'react-redux';
  import escape from 'escape-html';
  import serialize from 'serialize-javascript';
  import App from '../containers/App';
  import configureStore from '../store/configureStore';

  const render = (state, metas) => {
    const store = configureStore(preloadedState);
    const root = renderToString(
      <Provider store={store}>
        <App />
      </Provider>,
    );
    return `<!doctype html>
      <html>
        <head>
          <title>${escape(metas.title)}</title>
        </head>
        <body>
          <div id="root">${root}</div>
          < script>
            window.__PRELOADED_STATE__ = ${serialize(state)}
          </ script>
          < script src="/build/index.bundle.js"></ script>
        </body>
      </html>
  `;
  };
  export default render;
  ```
  </script>

  <script layout="" type="text/x-markdown">
  # Examples

  - [https://pwa.rocks/](https://pwa.rocks/)
  - [https://pwa-directory.appspot.com/](https://pwa-directory.appspot.com/)
  </script>

  <script layout="code" type="text/x-markdown">
  <img src="https://res.cloudinary.com/wego/image/upload/v1494208522/wego_logos/white/wego-logo-JP.png">

  [https://www.wego.com/](https://www.wego.com/)
  </script>

  <script layout="" type="text/x-markdown">
  <img src="images/wego.png">
  </script>

  <script layout="" type="text/x-markdown">
  <img src="images/rnikkei.jpg">
  </script>

  <script layout="" type="text/x-markdown" backface="images/rnikkei.jpg" backface-filter="blur(2px) brightness(.4)" class="rnikkei">
  - CDN (Fastly) でコンテンツキャッシュ
  - ServiceWorker
  - Resource  Hints で先行読み込み
  - HTTP/2
  - WebP

  <small><a href="https://note.mu/konpyu/n/n9fd5b81f6305">https://note.mu/konpyu/n/n9fd5b81f6305</a></small>
  ### 🙏
  </script>

  <script layout="cover" type="text/x-markdown">
  <a href="https://dev.to/ben/making-devto-insanely-fast"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--PP397znZ--/c_imagga_scale,f_auto,fl_progressive,h_500,q_auto,w_1000/http://i.imgur.com/Q01pEZb.png"></a>
  </script>

  <script layout="" type="text/x-markdown" backface="https://res.cloudinary.com/practicaldev/image/fetch/s--PP397znZ--/c_imagga_scale,f_auto,fl_progressive,h_500,q_auto,w_1000/http://i.imgur.com/Q01pEZb.png" backface-filter="blur(2px) brightness(.4)" class="devto">

  <blockquote class="hatena-bookmark-comment"><a class="comment-info" href="http://b.hatena.ne.jp/entry/348983189/comment/yosuke_furukawa" data-user-id="yosuke_furukawa" data-entry-url="http://b.hatena.ne.jp/entry/s/dev.to/ben/making-devto-insanely-fast" data-original-href="https://dev.to/ben/making-devto-insanely-fast" data-entry-favicon="https://cdn-ak.favicon.st-hatena.com/?url=https%3A%2F%2Fdev.to%2F" data-user-icon="/users/yosuke_furukawa/profile.png">Making dev.to insanely fast</a><br><p style="clear: left">dev.to が高速化のためにやってる施策。 1. CDNを使ってfastlyから キャッシュ済みのHTML配信。2. render-blockスタイル撲滅 3. Cloudinaryからwebpで画像配信、大きな画像は背景色を入れる。 4. 外部CSSとカスタムフォント使わない。</p><span class="datetime-body">2017/11/15 13:44</span></blockquote>

  <small><a href="http://b.hatena.ne.jp/entry/348983189/comment/yosuke_furukawa">http://b.hatena.ne.jp/entry/348983189/comment/yosuke_furukawa</a></small>
  ### 🙏
  </script>

  <script layout="" type="text/x-markdown">
  # PRPL パターン

  - Push: 最初の URL ルートに不可欠なリソースを Push（プッシュ）する。
  - Render: 最初のルートを Render（レンダリング）する。
  - Pre-cache: 残りのルートを Pre-cache（事前キャッシュ）する。
  - Lazy-load: オンデマンドで残りのルートを Lazy-load（遅延読み込み）する。

  <a href="https://developers.google.com/web/fundamentals/performance/prpl-pattern/?hl=ja"><small>https://developers.google.com/web/fundamentals/performance/prpl-pattern/?hl=ja</small></a>
  </script>

  <script layout="bullets" type="text/x-markdown">
  # Push Notification

  <img src="images/push-cycle1.jpg">
  </script>

  <script layout="bullets" type="text/x-markdown">
  #### Push Notification

  <img src="images/push-cycle2.jpg">
  </script>

  <script layout="code" type="text/x-markdown">
  ```javascript
  // https://example.com/script/main.js
  import * as firebase from 'firebase';

  ...

  const messaging = firebase.messaging();
  messaging.requestPermission()
    .then(function () {
      console.log('Notification permission granted.');
      messaging.getToken()
        .then(function (currentToken) {
          sendTokenToServer(currentToken);
        })
        .catch(function (err) {
          console.log('An error occurred while retrieving token. ', err);
        });
    })
    .catch(function (err) {
      console.log('Unable to get permission to notify.', err);
  });
  ```
  </script>

  <script layout="code" type="text/x-markdown">
  ```json
  curl -X POST -H "Authorization: key=YOUR-SERVER-KEY" -H
  "Content-Type: application/json" -d '{
    "notification": {
      "title": "Portugal vs. Denmark",
      "body": "5 to 1",
      "icon": "firebase-logo.png",
      "click_action": "http://localhost:8081"
    },
    "to": "DEVICE_REGISTRATION_TOKEN"
  }' "https://fcm.googleapis.com/fcm/send"
  ```
  </script>

  <script layout="code" type="text/x-markdown">
  ```javascript
  // https://example.com/script/main.js
  messaging.setBackgroundMessageHandler(function(payload) {
    console.log('[main.js] Received background message ', payload);
    // Customize notification here
    const notificationTitle = 'Background Message Title';
    const notificationOptions = {
      body: 'Background Message body.',
      icon: '/firebase-logo.png'
    };

    return self.registration.showNotification(notificationTitle,
    notificationOptions);
  });
  ```
  </script>

  <script layout="bullets" type="text/x-markdown">
  #### Push Notification

  <img src="https://blog.kissmetrics.com/wp-content/uploads/2015/11/push-notifications-desktop-mobile.png">
  </script>

  <script layout="bullets" type="text/x-markdown">
  <img src="images/badux.png">

  [https://developers.google.com/web/fundamentals/push-notifications/permission-ux#ux](https://developers.google.com/web/fundamentals/push-notifications/permission-ux#ux)

  </script>

  <script layout="bullets" type="text/x-markdown">
  # Payment Request API

  <img src="https://developers.google.com/web/fundamentals/payments/images/5_9_payment_request_ui.png?hl=ja" width="250">
  </script>

  <script layout="bullets" type="text/x-markdown">
  #### Payment Request API
  - 支払いフォーム UI の提供
    - 支払いに必要な情報をブラウザに保存・フォームに自動セットすることによる支払いフローの簡略化
    - 決済には別途ゲートウェイが必要 ( PAY.JP, stripe... )
    - 現在は主要クレジットカードのみ対応、Android Pay, PayPal 対応予定
  </script>

  <script layout="code" type="text/x-markdown">
  ```javascript
  function pay(details) {
    // Define the type of card
    ...

    const request = new PaymentRequest(methodData, details, options);

    request.show().then(result => {
      return Promise.race([
        fetch('/pay', {
          method: 'POST',
          credentials: 'include',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(result.toJSON())
        })
      ])
      .then(response => {
        if (response.status === 200) {
          return result.complete('success');
        } else {
          return result.complete('fail');
        }
      })
      .catch(() => result.complete('fail'));
    });
  }
  ```
  </script>

  <script layout="code" type="text/x-markdown">
  ```javascript
  function onBuyClicked(event) {
    pay({
      displayItems: [{
        label: event.target.parentNode.dataset.label,
        amount: {
          currency: 'JPY',
          value: event.target.parentNode.dataset.value
        }
      }, {
        label: 'Friends and family discount',
        amount: {
          currency: 'JPY',
          value : '-10'
        },
        pending: true
      }],
      total: {
        label: 'Total',
        amount: {
          currency: 'JPY',
          value: Number(event.target.parentNode.dataset.value) - 10
        }
      }
    });
  }
  ```
  </script>

  <script layout="" type="text/x-markdown">
  #### Payment Request API
  <img src="images/payment.png">
  </script>

  <script layout="bullets" type="text/x-markdown">
  # Credential Management API

  <img src="images/cred.jpg" width="750">
  </script>

  <script layout="bullets" type="text/x-markdown">
  #### Credential Management API
  - ユーザー認証 UI
    - 認証情報をブラウザに保存・更新
    - アカウント選択ダイアログ
    - 自動ログイン
  </script>

  <script layout="code" type="text/x-markdown">
  ```javascript
  if (navigator.credentials) {
    event.preventDefault()

    const c = new PasswordCredential(event.target)
    const init = {
      method: 'POST',
      credentials: c
    }

    navigator.credentials.store(c)
  } else {
    alert('Your brouser does not support credential management')
  }
  ```

  [https://github.com/hrfmmymt/credential-management-sample](https://github.com/hrfmmymt/credential-management-sample)
  </script>

  <script layout="code" type="text/x-markdown">
  ```javascript
  navigator.credentials.get({
    'password': true
  }).then(
    function(cred) {
      console.log(cred)
      if (cred) {
         alert('login as ' + cred.id)
      } else {
        alert('can not use credentials')
        return
      }
    }
  )
  ```

  [https://github.com/hrfmmymt/credential-management-sample](https://github.com/hrfmmymt/credential-management-sample)
  </script>

  <script layout="bullets" type="text/x-markdown">
  #### Credential Management API
  <img src="images/canicred.png">
  </script>

  <script layout="bullets" type="text/x-markdown">
  # AMP
  ## Accelerated Mobile Pages
  </script>

  <script layout="code" type="text/x-markdown">
  ```html
  <!doctype html>
  <html ⚡>
  <head>
  ...
  <style amp-custom>
  /* any custom styles go here. */
  body {
  background-color: white;
  }
  amp-img {
  border: 5px solid black;
  }

  amp-img.grey-placeholder {
  background-color: grey;
  }
  </style>
  ...
  </head>
  <body>
  ...
  </body>
  </html>
  ```
  </script>

  <script layout="code" type="text/x-markdown">
  ```html
  <amp-img
  class="grey-placeholder"
  src="https://placekitten.com/g/500/300"
  srcset="/img/cat.jpg 640w,
  /img/kitten.jpg 320w"
  width="500"
  height="300"
  layout="responsive">
  </amp-img>
  ````
  </script>

  <script layout="bullets" type="text/x-markdown">
  ## [AMP by Example](https://ampbyexample.com/)
  <img src="images/ampbyex.png" width="70%">
  </script>

  <script layout="code" type="text/x-markdown">
  ### amp-list
  ```html
  <!doctype html>
  <html ⚡>
  <head>
  < script async src="https://cdn.ampproject.org/v0.js"></ script>
  < script async custom-element="amp-list" src="https://cdn.ampproject.org/v0/amp-list-0.1.js"></ script>
  < script async custom-template="amp-mustache" src="https://cdn.ampproject.org/v0/amp-mustache-0.1.js"></ script>
  ...
  </head>
  <body>
  <amp-list width="auto" height="100" layout="fixed-height" src="https://ampbyexample.com/json/examples.json" class="m1">
    <template type="amp-mustache" id="amp-template-id">
      <div><a href="{{url}}">{{title}}</a></div>
    </template>
  </amp-list>
  </body>
  ```
  </script>

  <script layout="bullets" type="text/x-markdown">
  <img src="https://1.bp.blogspot.com/-ttRMKTXiERQ/Vs2YQ4UHkRI/AAAAAAAACGg/6JTDRRR02F4/s640/AMP.png">

  [https://developers-jp.googleblog.com/2016/02/google-accelerated-mobile-pages.html](https://developers-jp.googleblog.com/2016/02/google-accelerated-mobile-pages.html)
  </script>

  <script layout="bullets" type="text/x-markdown">
  #### AMP
  - 特定のページだけ対応でも OK
  - 諸々の縛りプレイで条件を満たして AMP となる
    - AMP Validator  
  <img src="images/amp-valid.png" width="70%">
  </script>

  <script layout="bullets" type="text/x-markdown" backface="http://www.supagaijin.com/wp-content/themes/display/framework/includes/timthumb.php?src=/wp-content/uploads/2010/04/OOPS.jpg&h=273&w=610&zc=1" backface-filter="blur(4px) brightness(.3)" class="pwamp">
  # AMP as PWA
  # AMP to PWA
  # AMP in PWA

  [https://www.ampproject.org/ja/docs/guides/pwa-amp](https://www.ampproject.org/ja/docs/guides/pwa-amp)
  </script>

  <script layout="code" type="text/x-markdown">
  ### amp-install-serviceworker
  ```html
  <!doctype html>
  <html amp>
  <head>
    ...
    < script async src="https://cdn.ampproject.org/v0.js"></ script>
    < script async custom-element="amp-install-serviceworker" src="https://cdn.ampproject.org/v0/amp-install-serviceworker-0.1.js"></ script>
  </head>
  <body>
    <amp-install-serviceworker
      src="https://www.your-domain.com/serviceworker.js"
      data-iframe-src="https://www.your-domain.com/install-serviceworker.html"
      layout="nodisplay">
    </amp-install-serviceworker>
  </body>
  </html>
  ```
  </script>

  <script layout="bullets" type="text/x-markdown">
  # AMP as PWA
  PWA の機能を取り入れた AMP ページ
  - 先行読み込み・オフラインキャッシュ・プッシュ通知などができる AMP
  </script>

  <script layout="bullets" type="text/x-markdown">
  # AMP to PWA
  PWA へのエントリ ポイントとしての AMP
  - 入り口が AMP
    - バックグラウンドで SW インストールしてあとは流れで
  </script>

  <script layout="bullets" type="text/x-markdown">
  # AMP in PWA
  PWA で AMP
  - PWA のデータソースとしての AMP

  [https://developers-jp.googleblog.com/2017/08/progressive-web-amp-amp-shadowreader.html](https://developers-jp.googleblog.com/2017/08/progressive-web-amp-amp-shadowreader.html)
  </script>

  <script layout="cover" type="text/x-markdown" backface="https://www.apple.com/jp/safari/images/og.png?201801120208" backface-filter="blur(2px) brightness(.4)" class="breaking">
  # BREAK⚡NG
  </script>

  <script layout="" type="text/x-markdown">
  # Safari 11.1
  #### Safari 11.1 ships with iOS 11.3 and macOS 10.13.4. It is also available in macOS 10.12.6 and 10.11.6.

  - Service Workers
  - Payment Request API
  - Web App Manifest

  [https://developer.apple.com/library/content/releasenotes/General/WhatsNewInSafari/Articles/Safari_11_1.html](https://developer.apple.com/library/content/releasenotes/General/WhatsNewInSafari/Articles/Safari_11_1.html)
  </script>

  <script layout="bullets" invert type="text/x-markdown">

  # おしまい

  ### ご静聴ありがとうございました

  </script>

  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/highlight.min.js"></script>
  <script src="lib/talkie.min.js"></script>
  <script>
  Talkie();

  // リンクは別タブ
  var i, links = document.querySelectorAll("a[href^='http']")
  for(i=0; i<links.length; i++) {
    links[i].setAttribute('target', '_blank');
  }
  </script>
  </body>
</html>